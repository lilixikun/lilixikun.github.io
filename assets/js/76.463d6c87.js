(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{426:function(t,a,r){"use strict";r.r(a);var v=r(25),s=Object(v.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"æµè§ˆå™¨æ¸²æŸ“æµç¨‹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨æ¸²æŸ“æµç¨‹"}},[t._v("#")]),t._v(" æµè§ˆå™¨æ¸²æŸ“æµç¨‹")]),t._v(" "),r("p",[r("strong",[t._v("åˆ†æï¼š")])]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[t._v("1. ç½‘é¡µçš„æ¸²æŸ“æµç¨‹\n  \t1. æµè§ˆå™¨çš„domæ˜¯åˆ†å±‚çš„ï¼Œç½‘é¡µæ˜¯3Dçš„ã€‚\n  \t2. å¯¹DOMå…ƒç´ èŠ‚ç‚¹è®¡ç®—æ ·å¼ç»“æœ Recalculate Styleæ ·å¼é‡è®¡ç®—\n  \t3. ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆå›¾å½¢ä½ç½®Layoutå›æµé‡æ’\n  \t4. å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å¡«å……åˆ°å›¾å±‚ä¸­Paint\n  \t5. å›¾å±‚ä½œä¸ºçº¹ç†ä¸Šä¼ åˆ°GPU\n  \t6. Composite Layers åˆæˆå±‚æŠŠç¬¦åˆå›¾å±‚ç”Ÿæˆåˆ°é¡µé¢\n2. Composite Layers åšäº†ä»€ä¹ˆï¼Ÿ\n       \t1. å›¾å±‚çš„ç»˜åˆ¶åˆ—è¡¨ï¼Œå‡†å¤‡å¥½ï¼Œä¸»çº¿ç¨‹ commit åˆæˆçº¿ç¨‹\n       \t2. åˆæˆçº¿ç¨‹ viewport rt åˆ’åˆ†å›¾å—\n       \t3. ç”Ÿæˆä½å›¾   æ …æ ¼åŒ–ï¼ˆå…‰æ …åŒ–ï¼‰ raster\n       \t4. æ‰€æœ‰å›¾å— GPUåˆæˆç”ŸæˆDarwQuadæäº¤ç»™æµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹\n       \t5. vizç»„ä»¶  æ¥æ”¶åˆ°DarwQuad ç»˜åˆ¶åˆ°æˆ‘ä»¬çš„å±å¹•ä¸Š\n")])])]),r("h2",{attrs:{id:"é¡µé¢åˆ†å±‚"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#é¡µé¢åˆ†å±‚"}},[t._v("#")]),t._v(" é¡µé¢åˆ†å±‚")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("çŸ¥é“å—?ğŸ¤”")]),t._v(" "),r("p",[t._v("é‚£äº›å±æ€§ä¼šåˆ†å±‚?å¦‚ä½•æŸ¥çœ‹å›¾å±‚?")])]),t._v(" "),r("p",[t._v("åœ¨ "),r("strong",[t._v("performance")]),t._v(" é‡Œé¢ç‚¹å‡» "),r("strong",[t._v("Layers")]),t._v(" å¯ä»¥çœ‹åˆ°å›¾å±‚çš„åˆ—è¡¨")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("æ ¹å…ƒç´ ")])]),t._v(" "),r("li",[r("p",[t._v("position")])]),t._v(" "),r("li",[r("p",[t._v("transform")])]),t._v(" "),r("li",[r("p",[t._v("åŠé€æ˜")])]),t._v(" "),r("li",[r("p",[t._v("cssæ»¤é•œ")])]),t._v(" "),r("li",[r("p",[t._v("canvas")])]),t._v(" "),r("li",[r("p",[t._v("video")])]),t._v(" "),r("li",[r("p",[t._v("overflow")])])]),t._v(" "),r("p",[t._v("é¡µé¢å…‰åˆ†å±‚ä¸è¡Œ,è®© "),r("strong",[t._v("GPU")]),t._v(" å‚ä¸å·¥ä½œæ‰æ˜¯æå‡æ€§èƒ½çš„ç‹é“,é‚£äº›å±æ€§èƒ½è®© "),r("strong",[t._v("GPU")]),t._v(" å‚ä¸å·¥ä½œå‘¢?")]),t._v(" "),r("h2",{attrs:{id:"gpu-ç¡¬ä»¶åŠ é€Ÿ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gpu-ç¡¬ä»¶åŠ é€Ÿ"}},[t._v("#")]),t._v(" GPU ç¡¬ä»¶åŠ é€Ÿ")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("CSS3D")])]),t._v(" "),r("li",[r("p",[t._v("video")])]),t._v(" "),r("li",[r("p",[t._v("webgl")])]),t._v(" "),r("li",[r("p",[t._v("transform")])]),t._v(" "),r("li",[r("p",[t._v("will-change:transform")])])]),t._v(" "),r("h2",{attrs:{id:"å½±å“é‡ç»˜å’Œé‡æ’çš„æ“ä½œ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å½±å“é‡ç»˜å’Œé‡æ’çš„æ“ä½œ"}},[t._v("#")]),t._v(" å½±å“é‡ç»˜å’Œé‡æ’çš„æ“ä½œ")]),t._v(" "),r("p",[r("strong",[t._v("é‡ç»˜")]),t._v(' æ˜¯æˆ‘ä»¬æ”¹åŠ¨å…ƒç´ çš„å­—ä½“é¢œè‰²,èƒŒæ™¯è‰²ç­‰å¤–è§‚å…ƒç´ æ—¶å€™,å¹¶ä¸ä¼šæ”¹å˜å®ƒçš„å¤§å°,ä¹Ÿä¸ä¼šå½±å“å…¶ä»–å…ƒç´ çš„å¸ƒå±€,è¿™ä¸ªæ—¶å€™å°±ä¸éœ€è¦é‡æ–°æ„å»ºæ¸²æŸ“æ ‘ã€‚æµè§ˆå™¨ä¼šå¯¹å…ƒç´ çš„æ ·å¼é‡æ–°ç»˜åˆ¶,è¿™ä¸ªè¿‡ç¨‹å«åš "é‡ç»˜"')]),t._v(" "),r("p",[t._v("é‡ç»˜çš„è§¦å‘: ä»»ä½•å¯¹å…ƒç´ æ ·å¼,å¦‚ "),r("strong",[t._v("color")]),t._v(","),r("strong",[t._v("background-color")]),t._v(" ç­‰å±æ€§çš„æ”¹å˜,JSå’ŒCSSéƒ½ä¼šå¼•èµ·é‡ç»˜ã€‚")]),t._v(" "),r("p",[r("strong",[t._v("é‡æ’")]),t._v(" ä¸€èˆ¬æ¥è¯´ç›’å­åŠ¨äº†å¿…å®šå¿…å®šä¼š "),r("strong",[t._v("é‡æ’")]),t._v(",å› æ­¤å»ºè®®ä½¿ç”¨æ€ªå¼‚ç›’æ¨¡å‹,å›ºå®šç›’å­çš„å¤§å°.")]),t._v(" "),r("blockquote",[r("p",[t._v("é‡æ’å¿…å®šå¼•èµ·é‡ç»˜")])]),t._v(" "),r("ul",[r("li",[t._v("æ·»åŠ /åˆ é™¤å…ƒç´ ")]),t._v(" "),r("li",[t._v("å†…å®¹å‘ç”Ÿæ”¹å˜(æ–‡å­—æ•°é‡æˆ–å›¾ç‰‡å¤§å°ç­‰ç­‰)")]),t._v(" "),r("li",[t._v("display:none")]),t._v(" "),r("li",[t._v("ç§»åŠ¨å…ƒç´ ä½ç½®")]),t._v(" "),r("li",[t._v("ä¿®æ”¹æµè§ˆå™¨å¤§å°,å­—ä½“å¤§å°")])]),t._v(" "),r("p",[r("strong",[t._v("è¿˜æœ‰ä¸€äº›è¯»å–æ“ä½œä¹Ÿå¯èƒ½å¼•èµ·é‡æ’")])]),t._v(" "),r("ul",[r("li",[t._v("offset(Top|Left|Width|Height)")]),t._v(" "),r("li",[t._v("scroll(Top|Left|Width|Height)")]),t._v(" "),r("li",[t._v("client(Top|Left|Width|Height)")]),t._v(" "),r("li",[t._v("getComputedStyle()")])]),t._v(" "),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"custom-block-title"},[t._v("è¿™é‡Œæœ‰ä¸ªç–‘é—®ğŸ¤”ï¸")]),t._v(" "),r("p",[t._v("ä¸ºä»€ä¹ˆè¯»å–ä¹Ÿä¼šé€ æˆ"),r("strong",[t._v("é‡æ’")]),t._v("?")])]),t._v(" "),r("p",[t._v("å› ä¸ºåœ¨ç”¨JSæ“ä½œDOMæ—¶,æµè§ˆå™¨ä¼šæŠŠæ“ä½œç»´æŠ¤åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­,å½“è¾¾åˆ°ä¸€å®šçš„æ•°é‡æµè§ˆå™¨å†ç»Ÿä¸€å»æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„æ“ä½œ.å½“å»æŸ¥è¯¢è¿™äº›å±æ€§æ—¶,æµè§ˆå™¨å°±ä¼šå¼ºåˆ¶åˆ·æ–°é˜Ÿåˆ—ã€‚å› ä¸ºå¦‚æœä¸ç«‹å³æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡,æœ‰å¯èƒ½å¾—åˆ°çš„ç»“æœæ˜¯é”™è¯¯çš„ã€‚ç›¸å½“äºä½ å¼ºåˆ¶æ‰“æ–­äº†æµè§ˆå™¨çš„ä¼˜åŒ–æµç¨‹ï¼Œå¼•èµ·äº†é‡æ’.")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("ä¸çŸ¥é“å“ªäº›å±æ€§å½±å“å’‹åŠğŸ¤”ï¸")]),t._v(" "),r("p",[r("strong",[r("a",{attrs:{href:"https://csstriggers.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("csstriggers"),r("OutboundLink")],1),t._v("  å¯æŸ¥çœ‹æ˜¯å¦å¼•èµ·é‡æ’é‡ç»˜")])])]),t._v(" "),r("h2",{attrs:{id:"å‡å°‘é‡ç»˜"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å‡å°‘é‡ç»˜"}},[t._v("#")]),t._v(" å‡å°‘é‡ç»˜")]),t._v(" "),r("p",[t._v("åˆ©ç”¨ "),r("strong",[t._v("DevTools")]),t._v(" è¯†åˆ« paint çš„ç“¶é¢ˆ,Chrome å·¥å…·çš„ä½¿ç”¨")]),t._v(" "),r("p",[r("img",{attrs:{src:"/optimization/chrome_performance_test.png",alt:"chrome"}})]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[t._v("è“è‰²:ç½‘ç»œé€šä¿¡å’Œ HTML è§£æ\né»„è‰²:JavaScript æ‰§è¡Œæ—¶é—´\nç´«è‰²:æ ·å¼è®¡ç®—å’Œå¸ƒå±€,å³ Layout é‡æ’\nç»¿è‰²:Paint é‡ç»˜\n")])])]),r("p",[r("strong",[t._v("CSS æ˜¯å¦ä¼šå¼•èµ·é‡æ’å’Œé‡ç»˜")]),t._v("?")]),t._v(" "),r("p",[t._v("åœ¨ "),r("a",{attrs:{href:"https://github.com/LiLixikun/Blog-example/blob/master/packages/performance/box1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¾‹å­"),r("OutboundLink")],1),t._v(" ä¸­æˆ‘ä»¬æ‰“å¼€ "),r("strong",[t._v("performance")]),t._v(" è¿›è¡Œå½•åˆ¶")]),t._v(" "),r("p",[r("img",{attrs:{src:"/optimization/reflow.png",alt:"reflow"}})]),t._v(" "),r("p",[t._v("å‘ç°ä¸€ç›´åœ¨æ‰§è¡Œ Layout(é‡æ’)-Paint(é‡ç»˜)-Composite Layers(åˆæˆ)çš„è¿‡ç¨‹")]),t._v(" "),r("p",[t._v("ä½¿ç”¨ "),r("strong",[t._v("transform")]),t._v(" å¼€å¯ç¡¬ä»¶åŠ é€Ÿå,å†æ¬¡å½•åˆ¶å¦‚ä¸‹:")]),t._v(" "),r("p",[r("img",{attrs:{src:"/optimization/box-transform.png",alt:"box-transform"}})]),t._v(" "),r("p",[t._v("å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ä¸»çº¿ç¨‹ç°åœ¨å¤„äºç©ºé—²çŠ¶æ€,è€Œ "),r("strong",[t._v("GPU")]),t._v(" å‚ä¸äº†å·¥ä½œ,ç›´æ¥è·³è¿‡äº†é‡ç»˜å’Œé‡æ’çš„è¿‡ç¨‹,å¤§å¤§çš„æå‡äº†æ€§èƒ½!")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("å°ç»“")]),t._v(" "),r("p",[t._v("ä½¿ç”¨ "),r("strong",[t._v("top")]),t._v(" "),r("strong",[t._v("left")]),t._v(" ä¼šå‘ç°ä¸æ–­çš„é‡æ’å’Œé‡ç»˜")]),t._v(" "),r("p",[t._v("ä½¿ç”¨ "),r("strong",[t._v("transform")]),t._v(" åˆ™æ²¡æœ‰")])]),t._v(" "),r("h2",{attrs:{id:"ä½¿ç”¨-fastdom"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-fastdom"}},[t._v("#")]),t._v(" ä½¿ç”¨ fastdom")]),t._v(" "),r("p",[t._v("åœ¨ "),r("a",{attrs:{href:"http://wilsonpage.github.io/fastdom/examples/animation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("fastdomäº‹ä¾‹"),r("OutboundLink")],1),t._v(" ä¸­æˆ‘ä»¬å¯ä»¥æ˜ç¡®çš„æ„Ÿè§‰åˆ°ç”¨äº† "),r("strong",[t._v("fastdom")]),t._v(" é¡µé¢æµç•…è®¸å¤š")]),t._v(" "),r("p",[t._v("ç°åœ¨æˆ‘ä»¬è‡ªå·±æ¥å†™ä¸ªç®€å• "),r("a",{attrs:{href:"https://github.com/LiLixikun/Blog-example/blob/master/packages/performance/fastdom.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),r("OutboundLink")],1),t._v(" æ“ä½œä¸‹:")]),t._v(" "),r("p",[t._v("æˆ‘ä»¬ç‚¹å¼€ "),r("strong",[t._v("performance")]),t._v(",æŸ¥çœ‹é¡µé¢ç»˜åˆ¶è¿‡ç¨‹å‘ç°ä¸åœçš„ "),r("strong",[t._v("Recalculate")]),t._v(" å’Œè¿›è¡Œ "),r("strong",[t._v("layout")])]),t._v(" "),r("p",[r("img",{attrs:{src:"/optimization/fastdom.png",alt:"layout"}})]),t._v(" "),r("p",[t._v("ä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨ "),r("a",{attrs:{href:"https://github.com/LiLixikun/Blog-example/blob/master/packages/performance/fastdom1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("fastdom"),r("OutboundLink")],1),t._v(" è¿›è¡Œè¯»å†™åˆ†ç¦»å,å‘ç°è¿›è¡Œäº†ç»Ÿä¸€çš„æ“ä½œ,å¤§å¤§å‡å°‘äº†æµè§ˆå™¨çš„å¼€é”€")]),t._v(" "),r("p",[r("img",{attrs:{src:"/optimization/fastdom1.png",alt:"layout"}})]),t._v(" "),r("h2",{attrs:{id:"requestanimationframe"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#requestanimationframe"}},[t._v("#")]),t._v(" requestAnimationFrame")]),t._v(" "),r("p",[t._v("å¦‚æœæƒ³æ‰§è¡ŒåŠ¨ç”»æ“ä½œ,å¯ä»¥ä½¿ç”¨ "),r("strong",[t._v("requestAnimationFrame")]),t._v(" è¦æ±‚æµè§ˆå™¨åœ¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°æ›´æ–°åŠ¨ç”»,å¯ä»¥è¾¾åˆ°å’Œæµè§ˆå™¨åŒæ­¥åˆ·æ–°,ä»¥é¿å…ä¸å¿…è¦çš„å¼€é”€.")]),t._v(" "),r("h2",{attrs:{id:"æ€»ç»“"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),r("p",[r("img",{attrs:{src:"/optimization/zongjie.png",alt:"zongjie.png"}})])])}),[],!1,null,null,null);a.default=s.exports}}]);