(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{357:function(t,n,s){"use strict";s.r(n);var e=s(25),r=Object(e.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"electron-质量监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#electron-质量监控"}},[t._v("#")]),t._v(" Electron 质量监控")]),t._v(" "),s("p",[t._v("Electron 程序崩溃会出现主进程或者渲染层\n主进程：程序突然中止，Native报错\n渲染层：白屏 ｜ 业务代码内存泄露")]),t._v(" "),s("p",[t._v("崩溃监控 -- 客户端部分")]),t._v(" "),s("p",[t._v("初始化崩溃监控 crashReporter.start({ submitURL: 'https://your-domain.com/url-to-submit' })  官网使用范例[https://www.electronjs.org/docs/api/crash-reporter]")]),t._v(" "),s("p",[t._v("服务端实现")]),t._v(" "),s("p",[t._v("崩溃报告将发送下面 multipart/form-data POST 型的数据给 submitURL:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("ver String - Electron 的版本.\nplatform String - 例如 'win32'.\nprocess_type String - 例如 'renderer'.\nguid String - 例如 '5e1286fc-da97-479e-918b-6bfb0c3d1c72'.\n_version String - package.json 里的版本号.\n_productName String - crashReporter options 对象中的产品名字\nprod String - Name of the underlying product. In this case Electron.\n_companyName String - crashReporter options 对象中的公司名称\nupload_file_minidump File - minidump 格式的崩溃报告\nAll level one properties of the extra object in the crashReporter options object.\n")])])]),s("p",[t._v("主进程异常监控")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uncaughtException"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("erros")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上报异常")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);n.default=r.exports}}]);