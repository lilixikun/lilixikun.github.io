(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{386:function(t,e,r){"use strict";r.r(e);var a=r(25),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"react-redux-实现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#react-redux-实现"}},[t._v("#")]),t._v(" React-redux 实现")]),t._v(" "),r("h2",{attrs:{id:"react-redux"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#react-redux"}},[t._v("#")]),t._v(" React-Redux")]),t._v(" "),r("p",[t._v("为了方便使用,Redux 的作者封装了一个 React 专用的库 React-Redux.")]),t._v(" "),r("p",[t._v("React-Redux 规定，所有的 UI 组件都由用户提供，容器组件则是由 React-Redux 自动生成。也就是说，用户负责视觉层，状态管理则是全部交给它。 React-Redux 核心 就是 "),r("strong",[t._v("Provider")]),t._v(" 和 "),r("strong",[t._v("connect")])]),t._v(" "),r("h2",{attrs:{id:"provider"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#provider"}},[t._v("#")]),t._v(" Provider")]),t._v(" "),r("p",[r("strong",[t._v("Provider")]),t._v(" 其实就只是一个外层容器，它的作用就是通过配合 "),r("strong",[t._v("connect")]),t._v(" 来达到跨层级传递数据。使用时 只需将Provider定义为整个项目最外层的组件，并设置好 "),r("strong",[t._v("store")]),t._v("。那么整个项目都可以直接获取这个 store。它的原理其实是通过 "),r("strong",[t._v("React")]),t._v(" 中的 "),r("strong",[t._v("Context")]),t._v(" 来实现的,向下传递 "),r("strong",[t._v("store")]),t._v(",渲染包裹的children。")]),t._v(" "),r("h2",{attrs:{id:"connect"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#connect"}},[t._v("#")]),t._v(" connect")]),t._v(" "),r("p",[t._v("connect 的作用是连接React组件与 Redux store，它包在我们的容器组件的外一层，它接收上 Provider 提供的 store 里面的 state 和 dispatch，传给一个构造函数，返回一个对象，以属性形式传给 我们的容器组件。\n它共有四个参数")]),t._v(" "),r("ul",[r("li",[t._v("mapStateToProps")]),t._v(" "),r("li",[t._v("mapDispatchToProps,")]),t._v(" "),r("li",[t._v("mergeProps")]),t._v(" "),r("li",[t._v("options")])]),t._v(" "),r("p",[r("strong",[t._v("mapStateToProps")]),t._v(" 的作用是将store里的state(数据源)绑定到指定组件的props中 "),r("strong",[t._v("mapDispatchToProps")]),t._v(" 的作用是将store里的action(操作数据的方法)绑定到指定组件的props中")]),t._v(" "),r("h2",{attrs:{id:"源码地址"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#源码地址"}},[t._v("#")]),t._v(" 源码地址")]),t._v(" "),r("p",[t._v("源码地址请移步 "),r("a",{attrs:{href:"https://github.com/LiLixikun/Blog-example/tree/master/packages/react-redux",target:"_blank",rel:"noopener noreferrer"}},[t._v("手写React-Redux"),r("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=s.exports}}]);